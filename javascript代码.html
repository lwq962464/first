<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>javascript代码</title>
</head>
<body>
<div id="wmd-preview" class="wmd-preview"><div class="md-section-divider"></div><div class="md-section-divider"></div><h1 data-anchor-id="4mil" id="javascript代码">javascript代码</h1><p data-anchor-id="pjpt"><code>前端重要代码片段</code></p><hr><div class="md-section-divider"></div><h3 data-anchor-id="9y7f" id="1大于1024并小于1360屏幕的媒体查询关键css代码">1.大于1024并小于1360屏幕的媒体查询关键CSS代码</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="8wd6"><ol class="linenums"><li class="L0"><code><span class="kwd">if</span><span class="pln"> </span><span class="pun">((</span><span class="pln">screen</span><span class="pun">.</span><span class="pln">width </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1360</span><span class="pun">)</span><span class="pln"> </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="pun">(</span><span class="pln">screen</span><span class="pun">.</span><span class="pln">height </span><span class="pun">==</span><span class="pln"> </span><span class="lit">1024</span><span class="pun">)){</span></code></li><li class="L1"><code><span class="pln">   setActiveStyleSheet</span><span class="pun">(</span><span class="pln">CSS1</span><span class="pun">);</span></code></li><li class="L2"><code><span class="pun">}</span></code></li></ol></pre><hr><div class="md-section-divider"></div><h3 data-anchor-id="smfs" id="2javascript-有哪几种创建对象的方式">2.JavaScript 有哪几种创建对象的方式？</h3><p data-anchor-id="2qea">(1).对象字面量方法</p><p data-anchor-id="ubuf"><code>oerson = {firsttname:"Mark",lastname:"Yun",age:25};</code></p><p data-anchor-id="1ole">(2).用function来模拟无参的构造函数</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="h4t6"><ol class="linenums"><li class="L0"><code><span class="kwd">function</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(){}</span></code></li><li class="L1"><code><span class="pln">  </span><span class="kwd">var</span><span class="pln"> person </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">();</span><span class="pln"> </span><span class="com">//定义一个function，如果使用new"实例化",该function可以看作是一个Class</span></code></li><li class="L2"><code><span class="pln">  person</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Xiaosong"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">  person</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> </span><span class="str">"23"</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pln">  person</span><span class="pun">.</span><span class="pln">work </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code><span class="pln">  alert</span><span class="pun">(</span><span class="str">"Hello "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> person</span><span class="pun">.</span><span class="pln">name</span><span class="pun">);</span></code></li><li class="L6"><code><span class="pun">}</span></code></li><li class="L7"><code><span class="pln">person</span><span class="pun">.</span><span class="pln">work</span><span class="pun">();</span></code></li></ol></pre><p data-anchor-id="3bn6">（3）.用用function来模拟参构造函数来实现（用this关键字定义构造的上下文属性）</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="16k2"><ol class="linenums"><li class="L0"><code><span class="kwd">function</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="pln">name</span><span class="pun">,</span><span class="pln">age</span><span class="pun">,</span><span class="pln">hobby</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L1"><code><span class="pln">  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span><span class="pln"> </span><span class="com">//this作用域：当前对象</span></code></li><li class="L2"><code><span class="pln">  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">=</span><span class="pln"> age</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L3"><code><span class="pln">  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">work </span><span class="pun">=</span><span class="pln"> work</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L4"><code><span class="pln">  </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">info </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L5"><code><span class="pln">  alert</span><span class="pun">(</span><span class="str">"我叫"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">+</span><span class="pln"> </span><span class="str">"，今年"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">age </span><span class="pun">+</span><span class="pln"> </span><span class="str">"岁，是个"</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">work</span><span class="pun">);</span><span class="pln"> </span></code></li><li class="L6"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L7"><code><span class="pun">}</span></code></li><li class="L8"><code><span class="kwd">var</span><span class="pln"> </span><span class="typ">Xiaosong</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Person</span><span class="pun">(</span><span class="str">"WooKong"</span><span class="pun">,</span><span class="lit">23</span><span class="pun">,</span><span class="str">"程序猿"</span><span class="pun">);</span><span class="pln"> </span><span class="com">//实例化、创建对象</span></code></li><li class="L9"><code><span class="typ">Xiaosong</span><span class="pun">.</span><span class="pln">info</span><span class="pun">();</span><span class="pln"> </span><span class="com">//调用info()方法</span></code></li></ol></pre><p data-anchor-id="5dpg">(4)。用工厂方式来创建（内置对象）</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="or9b"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> jsCreater </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Object</span><span class="pun">();</span></code></li><li class="L1"><code><span class="pln">jsCreater</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">"Brendan Eich"</span><span class="pun">;</span><span class="pln"> </span><span class="com">//JavaScript的发明者</span></code></li><li class="L2"><code><span class="pln">jsCreater</span><span class="pun">.</span><span class="pln">work </span><span class="pun">=</span><span class="pln"> </span><span class="str">"JavaScript"</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">jsCreater</span><span class="pun">.</span><span class="pln">info </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L4"><code><span class="pln">  alert</span><span class="pun">(</span><span class="str">"我是"</span><span class="pun">+</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">work</span><span class="pun">+</span><span class="str">"的发明者"</span><span class="pun">+</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name</span><span class="pun">);</span></code></li><li class="L5"><code><span class="pun">}</span></code></li><li class="L6"><code><span class="pln">jsCreater</span><span class="pun">.</span><span class="pln">info</span><span class="pun">();</span></code></li></ol></pre><p data-anchor-id="ayds">(5).用原型方式来创建</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="y7sv"><ol class="linenums"><li class="L0"><code><span class="kwd">function</span><span class="pln"> </span><span class="typ">Standard</span><span class="pun">(){}</span></code></li><li class="L1"><code><span class="typ">Standard</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> </span><span class="str">"ECMAScript"</span><span class="pun">;</span></code></li><li class="L2"><code><span class="typ">Standard</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="kwd">event</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L3"><code><span class="pln">  alert</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name</span><span class="pun">+</span><span class="str">"是脚本语言标准规范"</span><span class="pun">);</span></code></li><li class="L4"><code><span class="pun">}</span></code></li><li class="L5"><code><span class="kwd">var</span><span class="pln"> jiaoben </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> </span><span class="typ">Standard</span><span class="pun">();</span></code></li><li class="L6"><code><span class="pln">jiaoben</span><span class="pun">.</span><span class="kwd">event</span><span class="pun">();</span></code></li></ol></pre><p data-anchor-id="9diw">(6)用混合方式来创建</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="f1of"><ol class="linenums"><li class="L0"><code><span class="kwd">function</span><span class="pln"> iPhone</span><span class="pun">(</span><span class="pln">name</span><span class="pun">,</span><span class="kwd">event</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">   </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">;</span></code></li><li class="L2"><code><span class="pln">   </span><span class="kwd">this</span><span class="pun">.</span><span class="kwd">event</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">event</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pun">}</span></code></li><li class="L4"><code><span class="pln">iPhone</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">sell </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L5"><code><span class="pln">  alert</span><span class="pun">(</span><span class="str">"我是"</span><span class="pun">+</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">name</span><span class="pun">+</span><span class="str">"，我是iPhone5s的"</span><span class="pun">+</span><span class="kwd">this</span><span class="pun">.</span><span class="kwd">event</span><span class="pun">+</span><span class="str">"~ haha!"</span><span class="pun">);</span></code></li><li class="L6"><code><span class="pun">}</span></code></li><li class="L7"><code><span class="kwd">var</span><span class="pln"> SE </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">new</span><span class="pln"> iPhone</span><span class="pun">(</span><span class="str">"iPhone SE"</span><span class="pun">,</span><span class="str">"官方翻新机"</span><span class="pun">);</span></code></li><li class="L8"><code><span class="pln">SE</span><span class="pun">.</span><span class="pln">sell</span><span class="pun">();</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="d1iu" id="3通用事件监听器函数">3.通用事件监听器函数</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="20tk"><ol class="linenums"><li class="L0"><code><span class="com">//Event工具集，from:github.com/markyunmarkyun.</span></code></li><li class="L1"><code><span class="typ">Event</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">   </span><span class="com">//页面加载完成后</span></code></li><li class="L3"><code><span class="pln">   readyEvent</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">fn</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code><span class="pln">       </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">fn </span><span class="pun">==</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code><span class="pln">           fn </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">;</span></code></li><li class="L6"><code><span class="pln">       </span><span class="pun">}</span><span class="pln"> </span></code></li><li class="L7"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> oldonload </span><span class="pun">=</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">onload</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L8"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">typeof</span><span class="pln"> window</span><span class="pun">.</span><span class="pln">onload </span><span class="pun">!=</span><span class="pln"> </span><span class="str">'function'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code><span class="pln">         window</span><span class="pun">.</span><span class="pln">onload </span><span class="pun">=</span><span class="pln"> fn</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L0"><code><span class="pln">    </span><span class="pun">}</span><span class="kwd">else</span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">         window</span><span class="pun">.</span><span class="pln">onload </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L2"><code><span class="pln">            oldonload</span><span class="pun">();</span><span class="pln"> </span></code></li><li class="L3"><code><span class="pln">            fn</span><span class="pun">();</span></code></li><li class="L4"><code><span class="pln">         </span><span class="pun">};</span><span class="pln"> </span></code></li><li class="L5"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L6"><code><span class="pln">  </span><span class="pun">},</span><span class="pln"> </span></code></li><li class="L7"><code><span class="pln">    </span><span class="com">//视能力分别使用 demo0 || demo1 || IE 方式来绑定事件 </span></code></li><li class="L8"><code><span class="pln">    </span><span class="com">//参数：操作的元素，事件名称，事件处理程序 </span></code></li><li class="L9"><code><span class="pln">    addEvent</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">element</span><span class="pun">,</span><span class="pln">type</span><span class="pun">,</span><span class="pln">handler</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L0"><code><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">element</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="com">//事件类型、需要执行的函数、是否捕捉   </span></code></li><li class="L1"><code><span class="pln">             element</span><span class="pun">.</span><span class="pln">addEventListener</span><span class="pun">(</span><span class="pln">type</span><span class="pun">,</span><span class="pln">handler</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span></code></li><li class="L2"><code><span class="pln">        </span><span class="pun">}</span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">element</span><span class="pun">.</span><span class="pln">attachEvent</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L3"><code><span class="pln">            element</span><span class="pun">.</span><span class="pln">attachEvent</span><span class="pun">(</span><span class="str">'on'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> type</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code><span class="pln">                  handler</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">element</span><span class="pun">);</span></code></li><li class="L5"><code><span class="pln">             </span><span class="pun">});</span><span class="pln"> </span></code></li><li class="L6"><code><span class="pln">        </span><span class="pun">}</span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L7"><code><span class="pln">            element</span><span class="pun">[</span><span class="str">'on'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> type</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> handler</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L8"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L9"><code><span class="pln">     </span><span class="pun">},</span><span class="pln"> </span></code></li><li class="L0"><code><span class="pln">    </span><span class="com">//移除事件 </span></code></li><li class="L1"><code><span class="pln">     removeEvent</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">element</span><span class="pun">,</span><span class="pln">type</span><span class="pun">,</span><span class="pln">handler</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">element</span><span class="pun">.</span><span class="pln">removeEventListener</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">             element</span><span class="pun">.</span><span class="pln">removeEventListener</span><span class="pun">(</span><span class="pln">type</span><span class="pun">,</span><span class="pln">handler</span><span class="pun">,</span><span class="kwd">false</span><span class="pun">);</span><span class="pln"> </span></code></li><li class="L4"><code><span class="pln">        </span><span class="pun">}</span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">element</span><span class="pun">.</span><span class="pln">datachEvent</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L5"><code><span class="pln">             element</span><span class="pun">.</span><span class="pln">datachEvent</span><span class="pun">(</span><span class="str">'on'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> type</span><span class="pun">,</span><span class="pln">handler</span><span class="pun">);</span><span class="pln"> </span></code></li><li class="L6"><code><span class="pln">        </span><span class="pun">}</span><span class="kwd">else</span><span class="pun">{</span></code></li><li class="L7"><code><span class="pln">             element</span><span class="pun">[</span><span class="str">'on'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> type</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L8"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L9"><code><span class="pln">      </span><span class="pun">},</span></code></li><li class="L0"><code><span class="pln">   </span><span class="com">//阻止事件（主要是事件冒泡，因为IE不支持事件捕获） </span></code></li><li class="L1"><code><span class="pln">    stopPropagation</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">ev</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L2"><code><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ev</span><span class="pun">.</span><span class="pln">stopPropagation</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L3"><code><span class="pln">             ev</span><span class="pun">.</span><span class="pln">stopPropagation</span><span class="pun">();</span><span class="pln"> </span></code></li><li class="L4"><code><span class="pln">        </span><span class="pun">}</span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L5"><code><span class="pln">             ev</span><span class="pun">.</span><span class="pln">cancelBubble </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span></code></li><li class="L6"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L7"><code><span class="pln">     </span><span class="pun">},</span><span class="pln"> </span></code></li><li class="L8"><code><span class="pln">   </span><span class="com">//取消事件的默认行为</span></code></li><li class="L9"><code><span class="pln">    preventDefault</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="kwd">event</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0"><code><span class="pln">       </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">event</span><span class="pun">.</span><span class="pln">preventDefault</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L1"><code><span class="pln">            </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">preventDefault</span><span class="pun">();</span><span class="pln"> </span></code></li><li class="L2"><code><span class="pln">       </span><span class="pun">}</span><span class="kwd">else</span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">            </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">returnValue </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L4"><code><span class="pln">       </span><span class="pun">}</span></code></li><li class="L5"><code><span class="pln">    </span><span class="pun">},</span><span class="pln"> </span></code></li><li class="L6"><code><span class="pln">   </span><span class="com">//获取事件目标 </span></code></li><li class="L7"><code><span class="pln">   getTarget</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="kwd">event</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L8"><code><span class="pln">      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">target </span><span class="pun">||</span><span class="pln"> </span><span class="kwd">event</span><span class="pun">.</span><span class="pln">srcElemnt</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L9"><code><span class="pln">   </span><span class="pun">},</span></code></li><li class="L0"><code><span class="pln">   </span><span class="com">//获取event对象的引用，取到事件的所有信息，确保随时能使用event； </span></code></li><li class="L1"><code><span class="pln">   getEvent</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">e</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L2"><code><span class="pln">      </span><span class="kwd">var</span><span class="pln"> ev </span><span class="pun">=</span><span class="pln"> e </span><span class="pun">||</span><span class="pln"> window</span><span class="pun">.</span><span class="kwd">event</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">      </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="pln">ev</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L4"><code><span class="pln">          </span><span class="kwd">var</span><span class="pln"> c </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">getEvent</span><span class="pun">.</span><span class="kwd">caller</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L5"><code><span class="pln">          </span><span class="kwd">while</span><span class="pun">(</span><span class="pln">c</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L6"><code><span class="pln">              ev </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="pln">argument</span><span class="pun">[</span><span class="lit">0</span><span class="pun">];</span><span class="pln"> </span></code></li><li class="L7"><code><span class="pln">              </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">ev </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="typ">Event</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> ev</span><span class="pun">.</span><span class="pln">constructor</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code><span class="pln">                   </span><span class="kwd">break</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L9"><code><span class="pln">              </span><span class="pun">}</span><span class="pln"> </span></code></li><li class="L0"><code><span class="pln">              c </span><span class="pun">=</span><span class="pln"> c</span><span class="pun">.</span><span class="kwd">caller</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L1"><code><span class="pln">          </span><span class="pun">}</span><span class="pln"> </span></code></li><li class="L2"><code><span class="pln">      </span><span class="pun">}</span><span class="pln"> </span></code></li><li class="L3"><code><span class="pln">      retrun ev</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L4"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L5"><code><span class="pun">};</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="ug6e" id="4阻止事件冒泡">4.阻止事件冒泡</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="wkht"><ol class="linenums"><li class="L0"><code><span class="kwd">function</span><span class="pln"> stopPP</span><span class="pun">(</span><span class="pln">e</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">   </span><span class="kwd">var</span><span class="pln"> evt</span><span class="pun">=</span><span class="pln">e </span><span class="pun">||</span><span class="pln"> window</span><span class="pun">.</span><span class="kwd">event</span><span class="pun">;</span></code></li><li class="L2"><code><span class="pln">   evt</span><span class="pun">.</span><span class="pln">stopPropagation </span><span class="pun">?</span><span class="pln"> evt</span><span class="pun">.</span><span class="pln">stopPropagation</span><span class="pun">():(</span><span class="pln">evt</span><span class="pun">.</span><span class="typ">CancelBubble</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">);</span></code></li><li class="L3"><code><span class="pun">}</span></code></li></ol></pre><p data-anchor-id="5djb">IE下用CancelBubble = true判断 <br>
Firefox下用topPropagation()来阻止</p><div class="md-section-divider"></div><h3 data-anchor-id="p8ex" id="5内存泄漏">5.内存泄漏</h3><p data-anchor-id="tc5d">内存泄漏是指任何对象在您不再拥有或需要它之后任然存在。 <br>
垃圾回收器定期扫描对象，并计算引用了每个对象的其他对象的数量，如果一个对象的引用数量为0（没有其他对象引用过该对象），或对该对象的惟一引用是循环的，那么该对象的内存即可回收。 <br>
setTimeout的第一个参数使用字符串而非函数的话，会引发内存泄漏。 <br>
闭包、控制台日志、循环（在两个对象彼此引用且彼此保留时，就会产生一个循环）</p><div class="md-section-divider"></div><h3 data-anchor-id="10x8" id="6jquery-中如何将数组转化为-json-字符串然后再转化回来">6.jQuery 中如何将数组转化为 json 字符串，然后再转化回来？</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="l2gg"><ol class="linenums"><li class="L0"><code><span class="pln">jQuery </span><span class="pun">中没有提供这个功能，所以需要先编写两个</span><span class="pln"> jQuery </span><span class="pun">的扩展：</span></code></li><li class="L1"><code><span class="pln">$</span><span class="pun">.</span><span class="pln">fn</span><span class="pun">.</span><span class="pln">stringifyArray </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">array</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">   </span><span class="kwd">return</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">stringify</span><span class="pun">(</span><span class="pln">array</span><span class="pun">)</span></code></li><li class="L3"><code><span class="pun">}</span></code></li><li class="L4"><code><span class="pln">$</span><span class="pun">.</span><span class="pln">fn</span><span class="pun">.</span><span class="pln">parseArray </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">array</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code><span class="pln">  </span><span class="kwd">return</span><span class="pln"> JSON</span><span class="pun">.</span><span class="pln">parse</span><span class="pun">(</span><span class="pln">array</span><span class="pun">)</span></code></li><li class="L6"><code><span class="pun">}</span></code></li><li class="L7"><code><span class="com">//然后调用:</span></code></li><li class="L8"><code><span class="pln">$</span><span class="pun">(</span><span class="str">""</span><span class="pun">).</span><span class="pln">stringifyArray</span><span class="pun">(</span><span class="pln">array</span><span class="pun">)</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="uzrq" id="7jqueryextend-与-jqueryfnextend-有何区别">7.jQuery.extend 与 jQuery.fn.extend 有何区别？</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="05au"><ol class="linenums"><li class="L0"><code><span class="pln">jQuery</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">(</span><span class="kwd">object</span><span class="pun">);　</span><span class="com">//为jQuery类添加类方法，可以理解为添加静态方法</span></code></li><li class="L1"><code><span class="pln">jQuery</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">({</span></code></li><li class="L2"><code><span class="pln">  min</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> b</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> a </span><span class="pun">&lt;</span><span class="pln"> b </span><span class="pun">?</span><span class="pln"> a </span><span class="pun">:</span><span class="pln"> b</span><span class="pun">;</span><span class="pln"> </span><span class="pun">},</span></code></li><li class="L3"><code><span class="pln">  max</span><span class="pun">:</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">a</span><span class="pun">,</span><span class="pln"> b</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> a </span><span class="pun">&gt;</span><span class="pln"> b </span><span class="pun">?</span><span class="pln"> a </span><span class="pun">:</span><span class="pln"> b</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></code></li><li class="L4"><code><span class="pun">});</span></code></li><li class="L5"><code><span class="pln">jQuery</span><span class="pun">.</span><span class="pln">min</span><span class="pun">(</span><span class="lit">2</span><span class="pun">,</span><span class="lit">3</span><span class="pun">);</span><span class="pln"> </span><span class="com">//  2 </span></code></li><li class="L6"><code><span class="pln">jQuery</span><span class="pun">.</span><span class="pln">max</span><span class="pun">(</span><span class="lit">4</span><span class="pun">,</span><span class="lit">5</span><span class="pun">);</span><span class="pln"> </span><span class="com">//  5</span></code></li><li class="L7"><code><span class="pln">jQuery</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">(</span><span class="pln"> target</span><span class="pun">,</span><span class="pln"> object1</span><span class="pun">,</span><span class="pln"> </span><span class="pun">[</span><span class="pln">objectN</span><span class="pun">])</span><span class="com">//用一个或多个其他对象来扩展一个对象，返回被扩展的对象</span></code></li><li class="L8"><code><span class="pln">jQuery</span><span class="pun">.</span><span class="pln">fn</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">(</span><span class="kwd">object</span><span class="pun">);</span><span class="pln"> </span><span class="com">//对jQuery.prototype进行的扩展，就是为jQuery类添加“成员函数”。jQuery类的实例可以使用这个“成员函数”。比如我们要开发一个插件，做一个特殊的编辑框，当它被点击时，便alert 当前编辑框里的内容。可以这么做：</span></code></li><li class="L9"><code><span class="pln">$</span><span class="pun">.</span><span class="pln">fn</span><span class="pun">.</span><span class="pln">extend</span><span class="pun">({</span><span class="pln">          </span></code></li><li class="L0"><code><span class="pln">   alertWhileClick</span><span class="pun">:</span><span class="kwd">function</span><span class="pun">()</span><span class="pln"> </span><span class="pun">{</span><span class="pln">            </span></code></li><li class="L1"><code><span class="pln">         $</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">click</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(){</span><span class="pln">                 </span></code></li><li class="L2"><code><span class="pln">                alert</span><span class="pun">(</span><span class="pln">$</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">).</span><span class="pln">val</span><span class="pun">());</span><span class="pln">           </span></code></li><li class="L3"><code><span class="pln">          </span><span class="pun">});</span><span class="pln">           </span></code></li><li class="L4"><code><span class="pln">    </span><span class="pun">}</span><span class="pln">       </span></code></li><li class="L5"><code><span class="pun">});</span><span class="pln">       </span></code></li><li class="L6"><code><span class="pln">$</span><span class="pun">(</span><span class="str">"#input1"</span><span class="pun">).</span><span class="pln">alertWhileClick</span><span class="pun">();</span><span class="pln"> </span></code></li><li class="L7"><code><span class="com">// 页面上为$("#input1")为一个jQuery实例，当它调用成员方法 alertWhileClick后，便实现了扩展，每次被点击时它会先弹出目前编辑里的内容。</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="4dxd" id="8用js实现千位分隔符">8.用js实现千位分隔符</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="v0wn"><ol class="linenums"><li class="L0"><code><span class="pun">正则</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> replace</span></code></li><li class="L1"><code><span class="kwd">function</span><span class="pln"> commafy</span><span class="pun">(</span><span class="pln">num</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L2"><code><span class="pln">   num </span><span class="pun">=</span><span class="pln"> num </span><span class="pun">+</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L3"><code><span class="pln">   </span><span class="kwd">var</span><span class="pln"> reg </span><span class="pun">=</span><span class="pln"> </span><span class="str">/(-?d+)(d{3})/</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L4"><code><span class="pln">   </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">reg</span><span class="pun">.</span><span class="pln">test</span><span class="pun">(</span><span class="pln">num</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> </span></code></li><li class="L5"><code><span class="pln">       num </span><span class="pun">=</span><span class="pln"> num</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="pln">reg</span><span class="pun">,</span><span class="pln"> </span><span class="str">'$1,$2'</span><span class="pun">);</span></code></li><li class="L6"><code><span class="pln">   </span><span class="pun">}</span><span class="pln"> </span></code></li><li class="L7"><code><span class="pln">  </span><span class="kwd">return</span><span class="pln"> num</span><span class="pun">;</span></code></li><li class="L8"><code><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="bwur" id="9http协议的状态消息码">9.HTTP协议的状态消息码</h3><p data-anchor-id="an90">• “100″ : Continue（继续） 初始的请求已经接受，客户应当继续发送请求的其余部分。（HTTP 1.1新） <br>
•  “101″ : Switching Protocols（切换协议） 请求者已要求服务器切换协议，服务器已确认并准备进行切换。（HTTP 1.1新） <br>
•  “200″ : OK（成功） 一切正常，对GET和POST请求的应答文档跟在后面。 <br>
•  “201″ : Created（已创建）服务器已经创建了文档，Location头给出了它的URL。 <br>
•  “202″ : Accepted（已接受）服务器已接受了请求，但尚未对其进行处理。 <br>
•  “203″ : Non-Authoritative Information（非授权信息） 文档已经正常地返回，但一些应答头可能不正确，可能来自另一来源 。（HTTP 1.1新）。 <br>
•  “204″ : No Content（无内容）未返回任何内容，浏览器应该继续显示原来的文档。 <br>
•  “205″ : Reset Content（重置内容）没有新的内容，但浏览器应该重置它所显示的内容。用来强制浏览器清除表单输入内容（HTTP 1.1新）。 <br>
•  “206″ : Partial Content（部分内容）服务器成功处理了部分 GET 请求。（HTTP 1.1新） <br>
•  “300″ : Multiple Choices（多种选择）客户请求的文档可以在多个位置找到，这些位置已经在返回的文档内列出。如果服务器要提出优先选择，则应该在Location应答头指明。 <br>
•  “301″ : Moved Permanently（永久移动）请求的网页已被永久移动到新位置。服务器返回此响应（作为对 GET 或 HEAD 请求的响应）时，会自动将请求者转到新位置。 <br>
•  “302″ : Found（临时移动）类似于301，但新的URL应该被视为临时性的替代，而不是永久性的。注意，在HTTP1.0中对应的状态信息是“Moved Temporatily”，出现该状态代码时，浏览器能够自动访问新的URL，因此它是一个很有用的状态代码。注意这个状态代码有时候可以和301替换使用。例如，如果浏览器错误地请求<a href="http://host/~user" target="_blank">http://host/~user</a>（缺少了后面的斜杠），有的服务器返回301，有的则返回302。严格地说，我们只能假定只有当原来的请求是GET时浏览器才会自动重定向。请参见307。 <br>
•  “303″ : See Other（查看其他位置）类似于301/302，不同之处在于，如果原来的请求是POST，Location头指定的重定向目标文档应该通过GET提取（HTTP 1.1新）。 <br>
•  “304″ : Not Modified（未修改）自从上次请求后，请求的网页未被修改过。原来缓冲的文档还可以继续使用，不会返回网页内容。 <br>
•  “305″ : Use Proxy（使用代理）只能使用代理访问请求的网页。如果服务器返回此响应，那么，服务器还会指明请求者应当使用的代理。（HTTP 1.1新） <br>
•  “307″ : Temporary Redirect（临时重定向）和 302（Found）相同。许多浏览器会错误地响应302应答进行重定向，即使原来的请求是POST，即使它实际上只能在POST请求的应答是303时才能重定向。由于这个原因，HTTP 1.1新增了307，以便更加清除地区分几个状态代码：当出现303应答时，浏览器可以跟随重定向的GET和POST请求；如果是307应答，则浏览器只能跟随对GET请求的重定向。（HTTP 1.1新） <br>
•  “400″ : Bad Request（错误请求）请求出现语法错误。 <br>
•  “401″ : Unauthorized（未授权）客户试图未经授权访问受密码保护的页面。应答中会包含一个WWW-Authenticate头，浏览器据此显示用户名字/密码对话框，然后在填写合适的Authorization头后再次发出请求。 <br>
•  “403″ : Forbidden（已禁止） 资源不可用。服务器理解客户的请求，但拒绝处理它。通常由于服务器上文件或目录的权限设置导致。 <br>
•  “404″ : Not Found（未找到）无法找到指定位置的资源。 <br>
•  “405″ : Method Not Allowed（方法禁用）请求方法（GET、POST、HEAD、DELETE、PUT、TRACE等）禁用。（HTTP 1.1新） <br>
•  “406″ : Not Acceptable（不接受）指定的资源已经找到，但它的MIME类型和客户在Accpet头中所指定的不兼容（HTTP 1.1新）。 <br>
•  “407″ : Proxy Authentication Required（需要代理授权）类似于401，表示客户必须先经过代理服务器的授权。（HTTP 1.1新） <br>
•  “408″ : Request Time-out（请求超时）服务器等候请求时超时。（HTTP 1.1新） <br>
•  “409″ : Conflict（冲突）通常和PUT请求有关。由于请求和资源的当前状态相冲突，因此请求不能成功。（HTTP 1.1新） <br>
•  “410″ : Gone（已删除）如果请求的资源已被永久删除，那么，服务器会返回此响应。该代码与 404（未找到）代码类似，但在资源以前有但现在已经不复存在的情况下，有时会替代 404 代码出现。如果资源已被永久删除，那么，您应当使用 301 代码指定该资源的新位置。（HTTP 1.1新） <br>
•  “411″ : Length Required（需要有效长度）不会接受包含无效内容长度标头字段的请求。（HTTP 1.1新） <br>
•  “412″ : Precondition Failed（未满足前提条件）服务器未满足请求者在请求中设置的其中一个前提条件。（HTTP 1.1新） <br>
•  “413″ : Request Entity Too Large（请求实体过大）请求实体过大，已超出服务器的处理能力。如果服务器认为自己能够稍后再处理该请求，则应该提供一个Retry-After头。（HTTP 1.1新） <br>
•  “414″ : Request-URI Too Large（请求的 URI 过长）请求的 URI（通常为网址）过长，服务器无法进行处理。 <br>
•  “415″ : Unsupported Media Type（不支持的媒体类型）请求的格式不受请求页面的支持。 <br>
•  “416″ : Requested range not satisfiable（请求范围不符合要求）服务器不能满足客户在请求中指定的Range头。（HTTP 1.1新） <br>
•  “417″ : Expectation Failed（未满足期望值）服务器未满足”期望”请求标头字段的要求。 <br>
•  “500″ : Internal Server Error（服务器内部错误）服务器遇到错误，无法完成请求。 <br>
•  “501″ : Not Implemented（尚未实施） 服务器不具备完成请求的功能。例如，当服务器无法识别请求方法时，服务器可能会返回此代码。 <br>
•  “502″ : Bad Gateway（错误网关）服务器作为网关或者代理时，为了完成请求访问下一个服务器，但该服务器返回了非法的应答。 <br>
•  “503″ : Service Unavailable（服务不可用）服务器由于维护或者负载过重未能应答。通常，这只是一种暂时的状态。 <br>
•  “504″ : Gateway Time-out（网关超时） 由作为代理或网关的服务器使用，表示不能及时地从远程服务器获得应答。（HTTP 1.1新） <br>
•  “505″ : HTTP Version not supported（HTTP 版本不受支持）不支持请求中所使用的 HTTP 协议版本。 <br>
国内的比较牛的人：淘宝网UED官方博客。灵玉，大成小胖，承玉，拔赤</p><div class="md-section-divider"></div><h3 data-anchor-id="5ism" id="10javascript中如何对一个对象进行深度clone">10.JavaScript中如何对一个对象进行深度clone？</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="q1ot"><ol class="linenums"><li class="L0"><code><span class="kwd">function</span><span class="pln"> cloneObject</span><span class="pun">(</span><span class="pln">o</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">  </span><span class="kwd">if</span><span class="pun">(!</span><span class="pln">o </span><span class="pun">||</span><span class="pln"> </span><span class="str">'object'</span><span class="pln"> </span><span class="pun">!==</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> o</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">      </span><span class="kwd">return</span><span class="pln"> o</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L4"><code><span class="pln">  </span><span class="kwd">var</span><span class="pln"> c </span><span class="pun">=</span><span class="pln"> </span><span class="str">'function'</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> o</span><span class="pun">.</span><span class="pln">pop </span><span class="pun">?</span><span class="pln"> </span><span class="pun">[]</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="pun">{};</span></code></li><li class="L5"><code><span class="pln">  </span><span class="kwd">var</span><span class="pln"> p</span><span class="pun">,</span><span class="pln"> v</span><span class="pun">;</span></code></li><li class="L6"><code><span class="pln">  </span><span class="kwd">for</span><span class="pun">(</span><span class="pln">p </span><span class="kwd">in</span><span class="pln"> o</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L7"><code><span class="pln">      </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">o</span><span class="pun">.</span><span class="pln">hasOwnProperty</span><span class="pun">(</span><span class="pln">p</span><span class="pun">))</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L8"><code><span class="pln">          v </span><span class="pun">=</span><span class="pln"> o</span><span class="pun">[</span><span class="pln">p</span><span class="pun">];</span></code></li><li class="L9"><code><span class="pln">          </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">v </span><span class="pun">&amp;&amp;</span><span class="pln"> </span><span class="str">'object'</span><span class="pln"> </span><span class="pun">===</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pln"> v</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L0"><code><span class="pln">              c</span><span class="pun">[</span><span class="pln">p</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Ext</span><span class="pun">.</span><span class="pln">ux</span><span class="pun">.</span><span class="pln">clone</span><span class="pun">(</span><span class="pln">v</span><span class="pun">);</span></code></li><li class="L1"><code><span class="pln">          </span><span class="pun">}</span></code></li><li class="L2"><code><span class="pln">          </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">              c</span><span class="pun">[</span><span class="pln">p</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> v</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pln">          </span><span class="pun">}</span></code></li><li class="L5"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L6"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L7"><code><span class="pln">  </span><span class="kwd">return</span><span class="pln"> c</span><span class="pun">;</span></code></li><li class="L8"><code><span class="pun">};</span></code></li></ol></pre><div class="md-section-divider"></div><h4 data-anchor-id="fs2t" id="11请编写一个javascript函数-parsequerystring它的用途是把url参数解析为一个对象如">11.请编写一个JavaScript函数 parseQueryString，它的用途是把URL参数解析为一个对象，如：</h4><p data-anchor-id="6jhe">var url = “<a href="http://witmax.cn/index.php?key0=0&amp;key1=1&amp;key2=2" target="_blank">http://witmax.cn/index.php?key0=0&amp;key1=1&amp;key2=2</a>″;</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="o80a"><ol class="linenums"><li class="L0"><code><span class="kwd">function</span><span class="pln"> parseQueryString</span><span class="pun">(</span><span class="pln">url</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">  </span><span class="kwd">var</span><span class="pln"> </span><span class="kwd">params</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{},</span></code></li><li class="L2"><code><span class="pln">      arr </span><span class="pun">=</span><span class="pln"> url</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="str">"?"</span><span class="pun">);</span></code></li><li class="L3"><code><span class="pln">  </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">arr</span><span class="pun">.</span><span class="pln">length </span><span class="pun">&lt;=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span></code></li><li class="L4"><code><span class="pln">      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">params</span><span class="pun">;</span></code></li><li class="L5"><code><span class="pln">  arr </span><span class="pun">=</span><span class="pln"> arr</span><span class="pun">[</span><span class="lit">1</span><span class="pun">].</span><span class="pln">split</span><span class="pun">(</span><span class="str">"&amp;"</span><span class="pun">);</span></code></li><li class="L6"><code><span class="pln">  </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">,</span><span class="pln"> l</span><span class="pun">=</span><span class="pln">arr</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">&lt;</span><span class="pln">l</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++){</span></code></li><li class="L7"><code><span class="pln">      </span><span class="kwd">var</span><span class="pln"> a </span><span class="pun">=</span><span class="pln"> arr</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">split</span><span class="pun">(</span><span class="str">"="</span><span class="pun">);</span></code></li><li class="L8"><code><span class="pln">      </span><span class="kwd">params</span><span class="pun">[</span><span class="pln">a</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> a</span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span></code></li><li class="L9"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L0"><code><span class="pln">  </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">params</span><span class="pun">;</span></code></li><li class="L1"><code><span class="pun">}</span></code></li><li class="L2"><code><span class="kwd">var</span><span class="pln"> url </span><span class="pun">=</span><span class="pln"> </span><span class="str">"http://witmax.cn/index.php?key0=0&amp;key1=1&amp;key2=2"</span><span class="pun">,</span></code></li><li class="L3"><code><span class="pln">  ps </span><span class="pun">=</span><span class="pln"> parseQueryString</span><span class="pun">(</span><span class="pln">url</span><span class="pun">);</span></code></li><li class="L4"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">ps</span><span class="pun">[</span><span class="str">"key1"</span><span class="pun">]);</span></code></li></ol></pre><div class="md-section-divider"></div><h4 data-anchor-id="bdle" id="12请实现ecmascript-5中的objectgetprototypeof-函数">12.请实现ECMAScript 5中的Object.getPrototypeOf() 函数</h4><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="3vvb"><ol class="linenums"><li class="L0"><code><span class="kwd">function</span><span class="pln"> proto</span><span class="pun">(</span><span class="kwd">object</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">  </span><span class="kwd">return</span><span class="pln"> </span><span class="pun">!</span><span class="kwd">object</span><span class="pun">?</span><span class="pln">                </span><span class="kwd">null</span></code></li><li class="L2"><code><span class="pln">      </span><span class="pun">:</span><span class="pln"> </span><span class="str">'__proto__'</span><span class="pln"> </span><span class="kwd">in</span><span class="pln"> </span><span class="kwd">object</span><span class="pun">?</span><span class="pln">  </span><span class="kwd">object</span><span class="pun">.</span><span class="pln">__proto__</span></code></li><li class="L3"><code><span class="pln">      </span><span class="pun">:</span><span class="pln"> </span><span class="com">/* not exposed? */</span><span class="pln">      </span><span class="kwd">object</span><span class="pun">.</span><span class="pln">constructor</span><span class="pun">.</span><span class="pln">prototype</span></code></li><li class="L4"><code><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="tytd" id="13如何实现arrayprototypeforeach">13.如何实现Array.prototype.forEach？</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="yncv"><ol class="linenums"><li class="L0"><code><span class="kwd">if</span><span class="pln"> </span><span class="pun">(!</span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">forEach</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">  </span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">forEach </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(</span><span class="pln">fn</span><span class="pun">){</span></code></li><li class="L2"><code><span class="pln">      </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="pln"> </span><span class="kwd">var</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++</span><span class="pln"> </span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">          fn</span><span class="pun">(</span><span class="pln"> </span><span class="kwd">this</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln"> i</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">this</span><span class="pln"> </span><span class="pun">);</span></code></li><li class="L4"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L5"><code><span class="pln">  </span><span class="pun">};</span></code></li><li class="L6"><code><span class="pun">}</span></code></li><li class="L7"><code><span class="pun">[</span><span class="str">"a"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"b"</span><span class="pun">,</span><span class="pln"> </span><span class="str">"c"</span><span class="pun">].</span><span class="pln">forEach</span><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">value</span><span class="pun">,</span><span class="pln"> index</span><span class="pun">,</span><span class="pln"> array</span><span class="pun">){</span></code></li><li class="L8"><code><span class="pln">  </span><span class="kwd">assert</span><span class="pun">(</span><span class="pln"> value</span><span class="pun">,</span><span class="pln"> </span><span class="str">"Is in position "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> index </span><span class="pun">+</span><span class="pln"> </span><span class="str">" out of "</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="pun">(</span><span class="pln">array</span><span class="pun">.</span><span class="pln">length </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">)</span><span class="pln"> </span><span class="pun">);</span></code></li><li class="L9"><code><span class="pun">});</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="qaid" id="14如何将arguments转为数组">14.如何将arguments转为数组？</h3><p data-anchor-id="86lr"><code>Object.prototype.slice.call(arguments);</code></p><div class="md-section-divider"></div><h3 data-anchor-id="smqa" id="15如何获取光标的水平位置">15.如何获取光标的水平位置？</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="i0ui"><ol class="linenums"><li class="L0"><code><span class="kwd">function</span><span class="pln"> getX</span><span class="pun">(</span><span class="pln">e</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">  e </span><span class="pun">=</span><span class="pln"> e </span><span class="pun">||</span><span class="pln"> window</span><span class="pun">.</span><span class="kwd">event</span><span class="pun">;</span></code></li><li class="L2"><code><span class="pln">  </span><span class="com">//先检查非IE浏览器，在检查IE的位置</span></code></li><li class="L3"><code><span class="pln">  </span><span class="kwd">return</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">pageX </span><span class="pun">||</span><span class="pln"> e</span><span class="pun">.</span><span class="pln">clentX </span><span class="pun">+</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">.</span><span class="pln">scrollLeft</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="qgx1" id="16兼容浏览器的获取指定元素elem的样式属性name的方法">16.兼容浏览器的获取指定元素（elem）的样式属性（name）的方法</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="4ohb"><ol class="linenums"><li class="L0"><code><span class="kwd">function</span><span class="pln"> getStyle</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">,</span><span class="pln"> name</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">  </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">.</span><span class="pln">style</span><span class="pun">[</span><span class="pln">name</span><span class="pun">]){</span><span class="com">//如果属性存在于style[]中，直接取</span></code></li><li class="L2"><code><span class="pln">      </span><span class="kwd">return</span><span class="pln"> elem</span><span class="pun">.</span><span class="pln">style</span><span class="pun">[</span><span class="pln">name</span><span class="pun">];</span></code></li><li class="L3"><code><span class="pun">}</span></code></li><li class="L4"><code><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">.</span><span class="pln">currentStyle</span><span class="pun">){</span><span class="com">//否则 尝试IE的方法</span></code></li><li class="L5"><code><span class="pln">      </span><span class="kwd">return</span><span class="pln"> elem</span><span class="pun">.</span><span class="pln">currentStyle</span><span class="pun">[</span><span class="pln">name</span><span class="pun">];</span></code></li><li class="L6"><code><span class="pun">}</span><span class="com">//尝试W3C的方式</span></code></li><li class="L7"><code><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">defaultView </span><span class="pun">&amp;&amp;</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">defaultView</span><span class="pun">.</span><span class="pln">getComputedStyle</span><span class="pun">){</span><span class="pln"> </span></code></li><li class="L8"><code><span class="pln">      name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="str">/([A-Z])/</span><span class="pln">g</span><span class="pun">,</span><span class="pln"> </span><span class="str">"-$1"</span><span class="pun">);</span><span class="com">//W3C中为textAlign样式，转为text-align</span></code></li><li class="L9"><code><span class="pln">      name </span><span class="pun">=</span><span class="pln"> name</span><span class="pun">.</span><span class="pln">toLowerCase</span><span class="pun">();</span></code></li><li class="L0"><code><span class="pln">      </span><span class="kwd">var</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">defaultView</span><span class="pun">.</span><span class="pln">getComputedStyle</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">,</span><span class="pln"> </span><span class="str">""</span><span class="pun">);</span></code></li><li class="L1"><code><span class="pln">      </span><span class="kwd">return</span><span class="pln"> s </span><span class="pun">&amp;&amp;</span><span class="pln"> s</span><span class="pun">.</span><span class="pln">getPropertyValue</span><span class="pun">(</span><span class="pln">name</span><span class="pun">);</span></code></li><li class="L2"><code><span class="pln">  </span><span class="pun">}</span><span class="kwd">else</span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L5"><code><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="5z2u" id="17javascript中实现类似php的printr函数">17.Javascript中实现类似PHP的print_r函数</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="euaf"><ol class="linenums"><li class="L0"><code><span class="kwd">function</span><span class="pln"> print_r</span><span class="pun">(</span><span class="pln">theObj</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">  </span><span class="kwd">var</span><span class="pln"> retStr </span><span class="pun">=</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span></code></li><li class="L2"><code><span class="pln">   </span><span class="kwd">if</span><span class="pun">(</span><span class="kwd">typeof</span><span class="pln"> theObj </span><span class="pun">==</span><span class="pln"> </span><span class="str">'object'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">        retStr </span><span class="pun">+=</span><span class="pln"> </span><span class="str">'&lt;div style="font-family:Tahoma; font-size:7pt;"&gt;'</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pln">        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> p </span><span class="kwd">in</span><span class="pln"> theObj</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L5"><code><span class="pln">              </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">typeof</span><span class="pln"> theObj</span><span class="pun">[</span><span class="pln">p</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">'object'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L6"><code><span class="pln">                    retStr </span><span class="pun">+=</span><span class="pln"> </span><span class="str">'&lt;div&gt;&lt;b&gt;['</span><span class="pun">+</span><span class="pln">p</span><span class="pun">+</span><span class="str">'] =&gt; '</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="kwd">typeof</span><span class="pun">(</span><span class="pln">theObj</span><span class="pun">)</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">'&lt;/b&gt;&lt;/div&gt;'</span><span class="pun">;</span></code></li><li class="L7"><code><span class="pln">                    retStr </span><span class="pun">+=</span><span class="pln"> </span><span class="str">'&lt;div style="padding-left:25px;"&gt;'</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  print_r</span><span class="pun">(</span><span class="pln">theObj</span><span class="pun">[</span><span class="pln">p</span><span class="pun">])</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="str">'&lt;/div&gt;'</span><span class="pun">;</span></code></li><li class="L8"><code><span class="pln">              </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L9"><code><span class="pln">                    retStr </span><span class="pun">+=</span><span class="pln"> </span><span class="str">'&lt;div&gt;['</span><span class="pun">+</span><span class="pln">p</span><span class="pun">+</span><span class="str">'] =&gt; &lt;b&gt;'</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> theObj</span><span class="pun">[</span><span class="pln">p</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln">  </span><span class="str">'&lt;/b&gt;&lt;/div&gt;'</span><span class="pun">;</span></code></li><li class="L0"><code><span class="pln">              </span><span class="pun">}</span><span class="pln">  </span></code></li><li class="L1"><code><span class="pln">         </span><span class="pun">}</span></code></li><li class="L2"><code><span class="pln">        retStr </span><span class="pun">+=</span><span class="pln"> </span><span class="str">'&lt;/div&gt;'</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L4"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln">  retStr</span><span class="pun">;</span></code></li><li class="L5"><code><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="u1hd" id="18请给出异步加载js方案不少于两种">18.请给出异步加载js方案，不少于两种</h3><p data-anchor-id="o73b">异步加载方式： <br>
defer，只支持IE <br>
async：创建script，插入到DOM中，加载完毕后callBack，见代码：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="fb0t"><ol class="linenums"><li class="L0"><code><span class="com">//defer，只支持IE</span></code></li><li class="L1"><code><span class="kwd">function</span><span class="pln"> loadScript</span><span class="pun">(</span><span class="pln">url</span><span class="pun">,</span><span class="pln"> callback</span><span class="pun">){</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> script </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">createElement</span><span class="pun">(</span><span class="str">"script"</span><span class="pun">)</span></code></li><li class="L3"><code><span class="pln">    script</span><span class="pun">.</span><span class="pln">type </span><span class="pun">=</span><span class="pln"> </span><span class="str">"text/javascript"</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pln">    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">script</span><span class="pun">.</span><span class="pln">readyState</span><span class="pun">){</span><span class="pln"> </span><span class="com">//IE</span></code></li><li class="L5"><code><span class="pln">        script</span><span class="pun">.</span><span class="pln">onreadystatechange </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L6"><code><span class="pln">             </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">script</span><span class="pun">.</span><span class="pln">readyState </span><span class="pun">==</span><span class="pln"> </span><span class="str">"loaded"</span><span class="pln"> </span><span class="pun">||</span><span class="pln">script</span><span class="pun">.</span><span class="pln">readyState </span><span class="pun">==</span><span class="pln"> </span><span class="str">"complete"</span><span class="pun">){</span></code></li><li class="L7"><code><span class="pln">                    script</span><span class="pun">.</span><span class="pln">onreadystatechange </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L8"><code><span class="pln">                    callback</span><span class="pun">();</span></code></li><li class="L9"><code><span class="pln">             </span><span class="pun">}</span></code></li><li class="L0"><code><span class="pln">       </span><span class="pun">};</span></code></li><li class="L1"><code><span class="pln">   </span><span class="pun">}</span><span class="pln"> </span><span class="kwd">else</span><span class="pln"> </span><span class="pun">{</span></code></li></ol></pre><p data-anchor-id="r3wi">另一种(async)：</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="14c4"><ol class="linenums"><li class="L0"><code><span class="com">//Others: Firefox, Safari, Chrome, and Opera</span></code></li><li class="L1"><code><span class="pln">       script</span><span class="pun">.</span><span class="pln">onload </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L2"><code><span class="pln">          callback</span><span class="pun">();</span></code></li><li class="L3"><code><span class="pln">       </span><span class="pun">};</span></code></li><li class="L4"><code><span class="pln">  </span><span class="pun">}</span></code></li><li class="L5"><code><span class="pln">  script</span><span class="pun">.</span><span class="pln">src </span><span class="pun">=</span><span class="pln"> url</span><span class="pun">;</span></code></li><li class="L6"><code><span class="pln">  document</span><span class="pun">.</span><span class="pln">body</span><span class="pun">.</span><span class="pln">appendChild</span><span class="pun">(</span><span class="pln">script</span><span class="pun">);</span></code></li><li class="L7"><code><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="3ql5" id="19自定义objectcreate手写">19.自定义Object.create()——手写</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="ni5h"><ol class="linenums"><li class="L0"><code><span class="pln">  </span><span class="typ">Object</span><span class="pun">.</span><span class="pln">create</span><span class="pun">=</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">father</span><span class="pun">,</span><span class="pln">props</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">      console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="str">"我的create"</span><span class="pun">);</span></code></li><li class="L2"><code><span class="pln">      </span><span class="com">/*使用setPrototypeOf方法</span></code></li><li class="L3"><code><span class="com">      var o=Object();//1. 创建空对象</span></code></li><li class="L4"><code><span class="com">      Object.setPrototypeOf(o,father);//2. 继承father</span></code></li><li class="L5"><code><span class="com">      */</span></code></li><li class="L6"><code><span class="pln">      </span><span class="com">/*不使用setPrototypeOf方法</span></code></li><li class="L7"><code><span class="com">      function Constructor(){}</span></code></li><li class="L8"><code><span class="com">      Constructor.prototype=father;</span></code></li><li class="L9"><code><span class="com">      var o=new Constructor();</span></code></li><li class="L0"><code><span class="com">      */</span></code></li><li class="L1"><code><span class="pln">      </span><span class="typ">Object</span><span class="pun">.</span><span class="pln">defineProperties</span><span class="pun">(</span><span class="pln">o</span><span class="pun">,</span><span class="pln">props</span><span class="pun">);</span><span class="com">//3. 定义新属性</span></code></li><li class="L2"><code><span class="pln">      </span><span class="kwd">return</span><span class="pln"> o</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">  </span><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="jygz" id="20深克隆原理">20.深克隆原理</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="w8iy"><ol class="linenums"><li class="L0"><code><span class="typ">Object</span><span class="pun">.</span><span class="pln">clone</span><span class="pun">=</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">){</span><span class="com">//深克隆</span></code></li><li class="L1"><code><span class="kwd">if</span><span class="pun">(</span><span class="kwd">typeof</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">)==</span><span class="str">"object"</span><span class="pun">){</span><span class="com">//如果obj是对象</span></code></li><li class="L2"><code><span class="pln">  </span><span class="kwd">var</span><span class="pln"> o</span><span class="pun">=</span><span class="com">//有必要区分数组和普通对象</span></code></li><li class="L3"><code><span class="pln">  </span><span class="typ">Object</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">toString</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">)==</span><span class="str">"[object Array]"</span><span class="pun">?[]:{};</span></code></li><li class="L4"><code><span class="pln">      </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> key </span><span class="kwd">in</span><span class="pln"> obj</span><span class="pun">){</span><span class="com">//遍历obj的自有属性</span></code></li><li class="L5"><code><span class="pln">          </span><span class="com">//如果key是obj的自有属性</span></code></li><li class="L6"><code><span class="pln">          </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">.</span><span class="pln">hasOwnProperty</span><span class="pun">(</span><span class="pln">key</span><span class="pun">)){</span></code></li><li class="L7"><code><span class="pln">              o</span><span class="pun">[</span><span class="pln">key</span><span class="pun">]=</span><span class="pln">arguments</span><span class="pun">.</span><span class="pln">callee</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">[</span><span class="pln">key</span><span class="pun">]);</span><span class="com">//arguments.callee调的是当前的Object.clone函数</span></code></li><li class="L8"><code><span class="pln">              </span><span class="pun">}</span></code></li><li class="L9"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L0"><code><span class="pln">      </span><span class="kwd">return</span><span class="pln"> o</span><span class="pun">;</span></code></li><li class="L1"><code><span class="pln">      </span><span class="pun">}</span><span class="kwd">else</span><span class="pun">{</span><span class="com">//如果obj是原始类型的值，就直接返回副本</span></code></li><li class="L2"><code><span class="pln">          </span><span class="kwd">return</span><span class="pln"> obj</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L4"><code><span class="pln">  </span><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="wi80" id="21如果浏览器不支持every属性every的实现原理">21.如果浏览器不支持every属性,every的实现原理</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="y2m2"><ol class="linenums"><li class="L0"><code><span class="pln">  </span><span class="kwd">if</span><span class="pun">(</span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">every</span><span class="pun">===</span><span class="kwd">undefined</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">     </span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">every</span><span class="pun">=</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">fun</span><span class="pun">){</span></code></li><li class="L2"><code><span class="pln">      </span><span class="com">//遍历当前数组中每个元素</span></code></li><li class="L3"><code><span class="pln">      </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++){</span></code></li><li class="L4"><code><span class="pln">          </span><span class="kwd">if</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]!==</span><span class="kwd">undefined</span><span class="pun">){</span></code></li><li class="L5"><code><span class="com">//调用fun,依次传入当前元素值,位置i,当前数组作为参数  ，将返回值，保存在变量r中</span></code></li><li class="L6"><code><span class="pln">          </span><span class="kwd">var</span><span class="pln"> r</span><span class="pun">=</span><span class="pln">fun</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln">i</span><span class="pun">,</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L7"><code><span class="pln">          </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">r</span><span class="pun">==</span><span class="kwd">false</span><span class="pun">){</span><span class="com">//如果r为false</span></code></li><li class="L8"><code><span class="pln">             </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="com">//返回false</span></code></li><li class="L9"><code><span class="pln">          </span><span class="pun">}</span></code></li><li class="L0"><code><span class="pln">          </span><span class="pun">}</span></code></li><li class="L1"><code><span class="pln">           </span><span class="pun">}</span><span class="com">//(遍历结束)</span></code></li><li class="L2"><code><span class="pln">       </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="com">//返回true</span></code></li><li class="L3"><code><span class="pln">     </span><span class="pun">}</span></code></li><li class="L4"><code><span class="pln">  </span><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="w9y5" id="22如果浏览器不支持some属性some的实现原理">22.如果浏览器不支持some属性，some的实现原理</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="mn5q"><ol class="linenums"><li class="L0"><code><span class="pln">  </span><span class="kwd">if</span><span class="pun">(</span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">some</span><span class="pun">===</span><span class="kwd">undefined</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">     </span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">some</span><span class="pun">=</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">fun</span><span class="pun">){</span></code></li><li class="L2"><code><span class="pln">        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++){</span></code></li><li class="L3"><code><span class="pln">        </span><span class="kwd">if</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]!==</span><span class="pln">unefined</span><span class="pun">){</span></code></li><li class="L4"><code><span class="pln">          </span><span class="kwd">var</span><span class="pln"> r</span><span class="pun">=</span><span class="pln">fun</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln">i</span><span class="pun">,</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L5"><code><span class="pln">              </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">r</span><span class="pun">==</span><span class="kwd">true</span><span class="pun">){</span><span class="pln"> </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">true</span><span class="pun">;</span><span class="pln"> </span><span class="pun">}</span></code></li><li class="L6"><code><span class="pln">                </span><span class="pun">}</span></code></li><li class="L7"><code><span class="pln">            </span><span class="pun">}</span></code></li><li class="L8"><code><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L9"><code><span class="pln">     </span><span class="pun">}</span><span class="pln">    </span></code></li><li class="L0"><code><span class="pln">  </span><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="q5zd" id="23浏览器不支持map属性map的实现原理">23.浏览器不支持map属性,map的实现原理</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="gs5b"><ol class="linenums"><li class="L0"><code><span class="pln">  </span><span class="kwd">if</span><span class="pun">(</span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">map</span><span class="pun">===</span><span class="kwd">undefined</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">     </span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">map</span><span class="pun">=</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">fun</span><span class="pun">){</span></code></li><li class="L2"><code><span class="pln">      </span><span class="com">//创建空数组: newArr</span></code></li><li class="L3"><code><span class="pln">      </span><span class="kwd">var</span><span class="pln"> newArr</span><span class="pun">=[];</span></code></li><li class="L4"><code><span class="pln">      </span><span class="com">//遍历当前数组中每个元素</span></code></li><li class="L5"><code><span class="pln">      </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++){</span></code></li><li class="L6"><code><span class="pln">         </span><span class="com">//如果当前元素不是undefined</span></code></li><li class="L7"><code><span class="pln">         </span><span class="kwd">if</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]!==</span><span class="kwd">undefined</span><span class="pun">){</span><span class="com">//判断稀疏数组</span></code></li><li class="L8"><code><span class="com">//调用fun传入当前元素值，位置i，当前数组，将结果保存在r中</span></code></li><li class="L9"><code><span class="pln">              </span><span class="com">//将newArr的i位置赋值为r</span></code></li><li class="L0"><code><span class="pln">          </span><span class="kwd">var</span><span class="pln"> r</span><span class="pun">=</span><span class="pln">fun</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln">i</span><span class="pun">,</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L1"><code><span class="pln">                  newArr</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]=</span><span class="pln">r</span><span class="pun">;</span></code></li><li class="L2"><code><span class="pln">         </span><span class="pun">}</span></code></li><li class="L3"><code><span class="pln">      </span><span class="pun">}</span><span class="com">//(遍历结束)</span></code></li><li class="L4"><code><span class="pln">      </span><span class="kwd">return</span><span class="pln"> newArr</span><span class="pun">;</span><span class="com">//返回newArr</span></code></li><li class="L5"><code><span class="pln">     </span><span class="pun">}</span></code></li><li class="L6"><code><span class="pln">  </span><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="o9xs" id="23如果浏览器不支持reduce属性reduce的实现原理">23.如果浏览器不支持reduce属性,reduce的实现原理</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="ig4n"><ol class="linenums"><li class="L0"><code><span class="pln">  </span><span class="kwd">if</span><span class="pun">(</span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">reduce</span><span class="pun">===</span><span class="kwd">undefined</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">     </span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">reduce</span><span class="pun">=</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">fun</span><span class="pun">,</span><span class="kwd">base</span><span class="pun">){</span></code></li><li class="L2"><code><span class="pln">       </span><span class="kwd">base</span><span class="pun">===</span><span class="kwd">undefined</span><span class="pun">&amp;&amp;(</span><span class="kwd">base</span><span class="pun">=</span><span class="lit">0</span><span class="pun">);</span></code></li><li class="L3"><code><span class="pln">       </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="kwd">this</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++){</span></code></li><li class="L4"><code><span class="pln">      </span><span class="kwd">if</span><span class="pun">(</span><span class="kwd">this</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]!==</span><span class="kwd">undefined</span><span class="pun">){</span></code></li><li class="L5"><code><span class="pln">         </span><span class="kwd">base</span><span class="pun">=</span><span class="pln">fun</span><span class="pun">(</span><span class="kwd">base</span><span class="pun">,</span><span class="kwd">this</span><span class="pun">[</span><span class="pln">i</span><span class="pun">],</span><span class="pln">i</span><span class="pun">,</span><span class="kwd">this</span><span class="pun">);</span></code></li><li class="L6"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L7"><code><span class="pln">           </span><span class="pun">}</span></code></li><li class="L8"><code><span class="pln">       </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">base</span><span class="pun">;</span></code></li><li class="L9"><code><span class="pln">         </span><span class="pun">}</span></code></li><li class="L0"><code><span class="pln">  </span><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="z3nw" id="24如果浏览器不支持bind属性-bind函数的实现原理">24.如果浏览器不支持bind属性, bind函数的实现原理</h3><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="4e3r"><ol class="linenums"><li class="L0"><code><span class="pln">     </span><span class="kwd">if</span><span class="pun">(</span><span class="typ">Function</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">===</span><span class="kwd">undefined</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">     </span><span class="typ">Function</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">bind</span><span class="pun">=</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">obj</span><span class="com">/*，参数列表*/</span><span class="pun">){</span></code></li><li class="L2"><code><span class="pln">      </span><span class="kwd">var</span><span class="pln"> fun</span><span class="pun">=</span><span class="kwd">this</span><span class="pun">;</span><span class="com">//留住this</span></code></li><li class="L3"><code><span class="pln">              </span><span class="com">//*****将类数组对象，转化为普通数组</span></code></li><li class="L4"><code><span class="pln">      </span><span class="kwd">var</span><span class="pln"> args</span><span class="pun">=</span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">arguments</span><span class="pun">,</span><span class="lit">1</span><span class="pun">);</span></code></li><li class="L5"><code><span class="pln">      </span><span class="com">//args保存的就是提前绑定的参数列表</span></code></li><li class="L6"><code><span class="pln">      </span><span class="com">/*function slice(1){</span></code></li><li class="L7"><code><span class="com">         var sub=[];</span></code></li><li class="L8"><code><span class="com">         for(var i=0;i&lt;length;i++){</span></code></li><li class="L9"><code><span class="com">          sub.push(arguments[i]);</span></code></li><li class="L0"><code><span class="com">         }</span></code></li><li class="L1"><code><span class="com">         return sub;</span></code></li><li class="L2"><code><span class="com">      }*/</span></code></li><li class="L3"><code><span class="pln">      </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">function</span><span class="pun">(){</span></code></li><li class="L4"><code><span class="pln">                 </span><span class="com">//将后传入的参数值，转为普通数组      </span></code></li><li class="L5"><code><span class="pln">         </span><span class="kwd">var</span><span class="pln"> innerArgs</span><span class="pun">=</span><span class="typ">Array</span><span class="pun">.</span><span class="pln">prototype</span><span class="pun">.</span><span class="pln">slice</span><span class="pun">.</span><span class="pln">call</span><span class="pun">(</span><span class="pln">arguments</span><span class="pun">);</span><span class="com">//将之前绑定的参数值和新传入的参数值，拼接为完整参数之列表</span></code></li><li class="L6"><code><span class="pln">         </span><span class="kwd">var</span><span class="pln"> allArgs</span><span class="pun">=</span><span class="pln">args</span><span class="pun">.</span><span class="pln">concat</span><span class="pun">(</span><span class="pln">innerArgs</span><span class="pun">)</span></code></li><li class="L7"><code><span class="pln">        </span><span class="com">//调用原始函数fun，替换this为obj，传入所有参数</span></code></li><li class="L8"><code><span class="pln">        fun</span><span class="pun">.</span><span class="pln">apply</span><span class="pun">(</span><span class="pln">obj</span><span class="pun">,</span><span class="pln">allArgs</span><span class="pun">);</span></code></li><li class="L9"><code><span class="pln">      </span><span class="pun">}</span></code></li><li class="L0"><code><span class="pln">     </span><span class="pun">}</span></code></li><li class="L1"><code><span class="pln">  </span><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h3 data-anchor-id="2dfp" id="25使用原生js获取页面元素的颜色">25.使用原生js获取页面元素的颜色</h3><p data-anchor-id="hby4"><strong>rgb颜色到普通颜色的转换：</strong></p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="zq45"><ol class="linenums"><li class="L0"><code><span class="com">//如果是rgb颜色，该如此获取</span></code></li><li class="L1"><code><span class="pun">&lt;!</span><span class="pln">DOCTYPE html</span><span class="pun">&gt;</span><span class="pln"> </span></code></li><li class="L2"><code><span class="str">&lt;html&gt;</span><span class="pln"> </span></code></li><li class="L3"><code><span class="str">&lt;head&gt;</span><span class="pln"> </span></code></li><li class="L4"><code><span class="str">&lt;title&gt;</span><span class="pln">getHexColor js</span><span class="pun">/</span><span class="pln">jQuery </span><span class="pun">获得十六进制颜色&lt;/</span><span class="pln">title</span><span class="pun">&gt;</span><span class="pln"> </span></code></li><li class="L5"><code><span class="pun">&lt;</span><span class="pln">meta charset</span><span class="pun">=</span><span class="str">"utf-8"</span><span class="pln"> </span><span class="pun">/&gt;</span><span class="pln"> </span></code></li><li class="L6"><code><span class="pun">&lt;</span><span class="pln">script type</span><span class="pun">=</span><span class="str">"text/javascript"</span><span class="pun">&gt;</span><span class="pln"> </span></code></li><li class="L7"><code><span class="pln">    </span><span class="kwd">function</span><span class="pln"> getHexBgColor</span><span class="pun">(){</span><span class="pln"> </span></code></li><li class="L8"><code><span class="pln">        </span><span class="kwd">var</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln"> </span></code></li><li class="L9"><code><span class="pln">        </span><span class="kwd">var</span><span class="pln"> rgb </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">'color'</span><span class="pun">).</span><span class="pln">style</span><span class="pun">.</span><span class="pln">backgroundColor</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="str">'('</span><span class="pun">);</span><span class="pln"> </span></code></li><li class="L0"><code><span class="pln">        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> k </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> k </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln"> k</span><span class="pun">++){</span><span class="pln"> </span></code></li><li class="L1"><code><span class="pln">            str</span><span class="pun">[</span><span class="pln">k</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> parseInt</span><span class="pun">(</span><span class="pln">rgb</span><span class="pun">[</span><span class="lit">1</span><span class="pun">].</span><span class="pln">split</span><span class="pun">(</span><span class="str">','</span><span class="pun">)[</span><span class="pln">k</span><span class="pun">]).</span><span class="pln">toString</span><span class="pun">(</span><span class="lit">16</span><span class="pun">);</span><span class="pln"> </span></code></li><li class="L2"><code><span class="pln">        </span><span class="pun">}</span><span class="pln"> </span></code></li><li class="L3"><code><span class="pln">        str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'#'</span><span class="pun">+</span><span class="pln">str</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]+</span><span class="pln">str</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]+</span><span class="pln">str</span><span class="pun">[</span><span class="lit">2</span><span class="pun">];</span><span class="pln"> </span></code></li><li class="L4"><code><span class="pln">        document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">'color'</span><span class="pun">).</span><span class="pln">innerHTML </span><span class="pun">=</span><span class="pln"> str</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L5"><code><span class="pln">    </span><span class="pun">}</span><span class="pln"> </span></code></li><li class="L6"><code><span class="pln">    </span><span class="kwd">function</span><span class="pln"> getHexColor</span><span class="pun">(){</span><span class="pln"> </span></code></li><li class="L7"><code><span class="pln">        </span><span class="kwd">var</span><span class="pln"> str </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span><span class="pln"> </span></code></li><li class="L8"><code><span class="pln">        </span><span class="kwd">var</span><span class="pln"> rgb </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">'color'</span><span class="pun">).</span><span class="pln">style</span><span class="pun">.</span><span class="pln">color</span><span class="pun">.</span><span class="pln">split</span><span class="pun">(</span><span class="str">'('</span><span class="pun">);</span><span class="pln"> </span></code></li><li class="L9"><code><span class="pln">        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> k </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> k </span><span class="pun">&lt;</span><span class="pln"> </span><span class="lit">3</span><span class="pun">;</span><span class="pln"> k</span><span class="pun">++){</span><span class="pln"> </span></code></li><li class="L0"><code><span class="pln">            str</span><span class="pun">[</span><span class="pln">k</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> parseInt</span><span class="pun">(</span><span class="pln">rgb</span><span class="pun">[</span><span class="lit">1</span><span class="pun">].</span><span class="pln">split</span><span class="pun">(</span><span class="str">','</span><span class="pun">)[</span><span class="pln">k</span><span class="pun">]).</span><span class="pln">toString</span><span class="pun">(</span><span class="lit">16</span><span class="pun">);</span><span class="pln"> </span></code></li><li class="L1"><code><span class="pln">        </span><span class="pun">}</span><span class="pln"> </span></code></li><li class="L2"><code><span class="pln">        str </span><span class="pun">=</span><span class="pln"> </span><span class="str">'#'</span><span class="pun">+</span><span class="pln">str</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]+</span><span class="pln">str</span><span class="pun">[</span><span class="lit">1</span><span class="pun">]+</span><span class="pln">str</span><span class="pun">[</span><span class="lit">2</span><span class="pun">];</span><span class="pln"> </span></code></li><li class="L3"><code><span class="pln">        document</span><span class="pun">.</span><span class="pln">getElementById</span><span class="pun">(</span><span class="str">'color'</span><span class="pun">).</span><span class="pln">innerHTML </span><span class="pun">=</span><span class="pln"> str</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L4"><code><span class="pln">    </span><span class="pun">}</span><span class="pln"> </span></code></li><li class="L5"><code><span class="pun">&lt;/</span><span class="pln">script</span><span class="pun">&gt;</span><span class="pln"> </span></code></li><li class="L6"><code><span class="pun">&lt;</span><span class="pln">style type</span><span class="pun">=</span><span class="str">"text/css"</span><span class="pun">&gt;</span><span class="pln"> </span></code></li><li class="L7"><code><span class="com">#color{ </span></code></li><li class="L8"><code><span class="pln">    width</span><span class="pun">:</span><span class="pln"> </span><span class="lit">200px</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L9"><code><span class="pln">    height</span><span class="pun">:</span><span class="pln"> </span><span class="lit">200px</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L0"><code><span class="pln">    line</span><span class="pun">-</span><span class="pln">height</span><span class="pun">:</span><span class="pln"> </span><span class="lit">200px</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L1"><code><span class="pln">    text</span><span class="pun">-</span><span class="pln">align</span><span class="pun">:</span><span class="pln"> center</span><span class="pun">;</span><span class="pln"> </span></code></li><li class="L2"><code><span class="pun">}</span><span class="pln"> </span></code></li><li class="L3"><code><span class="pun">&lt;/</span><span class="pln">style</span><span class="pun">&gt;</span><span class="pln"> </span></code></li><li class="L4"><code><span class="pun">&lt;/</span><span class="pln">head</span><span class="pun">&gt;</span><span class="pln"> </span></code></li><li class="L5"><code><span class="str">&lt;body&gt;</span><span class="pln"> </span></code></li><li class="L6"><code><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">div style</span><span class="pun">=</span><span class="str">"color: #88ee22; background-color: #ef8989;"</span><span class="pln"> id</span><span class="pun">=</span><span class="str">"color"</span><span class="pun">&gt;&lt;/</span><span class="pln">div</span><span class="pun">&gt;</span><span class="pln"> </span></code></li><li class="L7"><code><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">input onclick</span><span class="pun">=</span><span class="str">"getHexBgColor();"</span><span class="pln"> type</span><span class="pun">=</span><span class="str">"button"</span><span class="pln"> value</span><span class="pun">=</span><span class="str">"获得背景色"</span><span class="pln"> </span><span class="pun">/&gt;</span><span class="pln"> </span></code></li><li class="L8"><code><span class="pln">    </span><span class="pun">&lt;</span><span class="pln">input onclick</span><span class="pun">=</span><span class="str">"getHexColor();"</span><span class="pln"> type</span><span class="pun">=</span><span class="str">"button"</span><span class="pln"> value</span><span class="pun">=</span><span class="str">"获得字体颜色"</span><span class="pln"> </span><span class="pun">/&gt;</span><span class="pln"> </span></code></li><li class="L9"><code><span class="pun">&lt;/</span><span class="pln">body</span><span class="pun">&gt;</span><span class="pln"> </span></code></li><li class="L0"><code><span class="pun">&lt;/</span><span class="pln">html</span><span class="pun">&gt;</span><span class="pln"> </span></code></li></ol></pre><p data-anchor-id="hbig"><strong>如自定义方法工具，获取页面元素的颜色，其中要判定颜色是传统颜色还是rgb颜色</strong></p><p data-anchor-id="ao4w">1 将所有工具方法封装在WDS(wall dom script)命名空间中</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="mxwk"><ol class="linenums"><li class="L0"><code><span class="pun">(</span><span class="kwd">function</span><span class="pun">(</span><span class="pln">WDS</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">undefined</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">  </span><span class="com">// 封装代码...</span></code></li><li class="L2"><code><span class="pun">})(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">WDS </span><span class="pun">||</span><span class="pln"> </span><span class="pun">(</span><span class="pln">window</span><span class="pun">.</span><span class="pln">WDS </span><span class="pun">=</span><span class="pln"> </span><span class="pun">{}));</span></code></li></ol></pre><p data-anchor-id="g53t">代码封装在命名空间里，不会造成无意间的代码污染。</p><p data-anchor-id="43hp">2 工具方法camelize</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="qham"><ol class="linenums"><li class="L0"><code><span class="com">// 字符串转换为驼峰写法</span></code></li><li class="L1"><code><span class="kwd">function</span><span class="pln"> camelize</span><span class="pun">(</span><span class="pln">str</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> str</span><span class="pun">.</span><span class="pln">replace</span><span class="pun">(</span><span class="str">/-(\w)/</span><span class="pln">g</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">function</span><span class="pln"> </span><span class="pun">(</span><span class="pln">strMatch</span><span class="pun">,</span><span class="pln"> p1</span><span class="pun">){</span></code></li><li class="L3"><code><span class="pln">        </span><span class="kwd">return</span><span class="pln"> p1</span><span class="pun">.</span><span class="pln">toUpperCase</span><span class="pun">();</span></code></li><li class="L4"><code><span class="pln">    </span><span class="pun">});</span></code></li><li class="L5"><code><span class="pun">}</span></code></li></ol></pre><p data-anchor-id="j2uj">该方法是为了方便后续getStyle()方法的编写，而独立出来的。 <br>
 作用是将连字符类的css属性值，转换成驼峰写法。 <br>
 例如：将background-color转换为backgroundColor</p><p data-anchor-id="1f7e"> 3 获取特定元素的计算样式</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="fzuc"><ol class="linenums"><li class="L0"><code><span class="com">// 获取元素计算后的样式</span></code></li><li class="L1"><code><span class="kwd">function</span><span class="pln"> getStyle</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">property</span><span class="pun">){</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">if</span><span class="pun">(!</span><span class="pln">elem </span><span class="pun">||</span><span class="pln"> </span><span class="pun">!</span><span class="kwd">property</span><span class="pun">){</span></code></li><li class="L3"><code><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L5"><code></code></li><li class="L6"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> elem</span><span class="pun">.</span><span class="pln">style</span><span class="pun">[</span><span class="pln">camelize</span><span class="pun">(</span><span class="kwd">property</span><span class="pun">)],</span><span class="pln"> </span><span class="com">// 先获取是否有内联样式</span></code></li><li class="L7"><code><span class="pln">        css</span><span class="pun">;</span><span class="pln"> </span><span class="com">// 获取的所有计算样式</span></code></li><li class="L8"><code></code></li><li class="L9"><code><span class="pln">    </span><span class="com">// 无内联样式，则获取层叠样式表计算后的样式</span></code></li><li class="L0"><code><span class="pln">    </span><span class="kwd">if</span><span class="pun">(!</span><span class="pln">value</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">document</span><span class="pun">.</span><span class="pln">defaultView </span><span class="pun">&amp;&amp;</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">defaultView</span><span class="pun">.</span><span class="pln">getComputedStyle</span><span class="pun">){</span></code></li><li class="L2"><code><span class="pln">            css </span><span class="pun">=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">defaultView</span><span class="pun">.</span><span class="pln">getComputedStyle</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">,</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">);</span></code></li><li class="L3"><code><span class="pln">            value </span><span class="pun">=</span><span class="pln"> css </span><span class="pun">?</span><span class="pln"> css</span><span class="pun">.</span><span class="pln">getPropertyValue</span><span class="pun">(</span><span class="kwd">property</span><span class="pun">)</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">null</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L5"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L6"><code></code></li><li class="L7"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> value</span><span class="pun">;</span></code></li><li class="L8"><code><span class="pun">}</span></code></li></ol></pre><p data-anchor-id="mo7x">做到这一步，第一个考察点基本就满足了。也能获知面试者是否具备足够扎实的js基础。 <br>
 另外，像安全保护性的判断<code>if(!elem || !property)</code>和功能嗅探<code>if(document.defaultView &amp;&amp; document.defaultView.getComputedStyle)</code>，都能很好地体现开发者的代码逻辑和开发经验。</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="09wm"><ol class="linenums"><li class="L0"><code><span class="com">// 检测获取的背景色是否有效</span></code></li><li class="L1"><code><span class="kwd">function</span><span class="pln"> checkBgValue</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">){</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> value </span><span class="pun">=</span><span class="pln"> getStyle</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">,</span><span class="pln"> </span><span class="str">'background-color'</span><span class="pun">),</span></code></li><li class="L3"><code><span class="pln">        hasColor </span><span class="pun">=</span><span class="pln"> value </span><span class="pun">?</span><span class="pln"> </span><span class="kwd">true</span><span class="pln"> </span><span class="pun">:</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span><span class="pln"> </span><span class="com">// 是否有颜色</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="pln">    </span><span class="com">// 排除特殊情况</span></code></li><li class="L6"><code><span class="pln">    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">value </span><span class="pun">==</span><span class="pln"> </span><span class="str">"transparent"</span><span class="pln"> </span><span class="pun">||</span><span class="pln"> value </span><span class="pun">==</span><span class="pln"> </span><span class="str">"rgba(0, 0, 0, 0)"</span><span class="pun">){</span></code></li><li class="L7"><code><span class="pln">        </span><span class="com">// 未设置background-color，或者设置为跟随父节点</span></code></li><li class="L8"><code><span class="pln">        hasColor </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L9"><code><span class="pln">    </span><span class="pun">}</span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">getStyle</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">,</span><span class="pln"> </span><span class="str">'opacity'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"0"</span><span class="pun">){</span></code></li><li class="L0"><code><span class="pln">        </span><span class="com">// dom节点透明度为全透明</span></code></li><li class="L1"><code><span class="pln">        hasColor </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L2"><code><span class="pln">    </span><span class="pun">}</span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">getStyle</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">,</span><span class="pln"> </span><span class="str">'visibility'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"hidden"</span><span class="pun">){</span></code></li><li class="L3"><code><span class="pln">        </span><span class="com">// dom节点不可见</span></code></li><li class="L4"><code><span class="pln">        hasColor </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L5"><code><span class="pln">    </span><span class="pun">}</span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">getStyle</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">,</span><span class="pln"> </span><span class="str">'display'</span><span class="pun">)</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="str">"none"</span><span class="pun">){</span></code></li><li class="L6"><code><span class="pln">        </span><span class="com">// dom节点不可见</span></code></li><li class="L7"><code><span class="pln">        hasColor </span><span class="pun">=</span><span class="pln"> </span><span class="kwd">false</span><span class="pun">;</span></code></li><li class="L8"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L9"><code></code></li><li class="L0"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> hasColor</span><span class="pun">;</span></code></li><li class="L1"><code><span class="pun">}</span></code></li></ol></pre><p data-anchor-id="kh5e">5 获取div在页面最终显示的颜色</p><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="na6z"><ol class="linenums"><li class="L0"><code><span class="com">// 获取div最终显示的颜色</span></code></li><li class="L1"><code><span class="kwd">function</span><span class="pln"> getRealBg</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">){</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">checkBgValue</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">)){</span></code></li><li class="L3"><code><span class="pln">        </span><span class="kwd">return</span><span class="pln"> getStyle</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">,</span><span class="pln"> </span><span class="str">'background-color'</span><span class="pun">);</span></code></li><li class="L4"><code><span class="pln">    </span><span class="pun">}</span><span class="kwd">else</span><span class="pln"> </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">elem </span><span class="pun">!=</span><span class="pln"> document</span><span class="pun">.</span><span class="pln">documentElement</span><span class="pun">){</span></code></li><li class="L5"><code><span class="pln">        </span><span class="kwd">return</span><span class="pln"> getRealBg</span><span class="pun">(</span><span class="pln">elem</span><span class="pun">.</span><span class="pln">parentNode</span><span class="pun">);</span></code></li><li class="L6"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L7"><code></code></li><li class="L8"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> </span><span class="str">''</span><span class="pun">;</span></code></li><li class="L9"><code><span class="pun">}</span></code></li></ol></pre><p data-anchor-id="amw8">获取样式值采用递归方式处理。 <br>
 如果能顺利获取到元素样式，且不触发4.4 排除特殊情况中的一种，则直接返回结果。 <br>
 触发了特殊情况，则需要查找父节点以及更上层的节点的样式，来获取肉眼能看到，显示在页面上的background-color值。 <br>
 在向上回溯的过程中，如果已经回溯到html根节点，则可以停止回溯。所以加了判断<code>else if(elem != document.documentElement)</code></p><p data-anchor-id="0tuk">rgb颜色值和特定颜色值(比如red)没有进行统一的转换，加了生硬的判断<code>if(value == "transparent" || value == "rgba(0, 0, 0, 0)")。</code></p><div class="md-section-divider"></div><h2 data-anchor-id="4faw" id="js实现丑数">js实现丑数：</h2><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="wz5l"><ol class="linenums"><li class="L0"><code><span class="kwd">var</span><span class="pln"> n </span><span class="pun">=</span><span class="pln"> parseInt</span><span class="pun">(</span><span class="pln">readline</span><span class="pun">());</span></code></li><li class="L1"><code></code></li><li class="L2"><code><span class="kwd">function</span><span class="pln"> </span><span class="typ">GetUglyNumber_Solution</span><span class="pun">(</span><span class="pln">index</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L3"><code><span class="pln">    </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">index </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L4"><code><span class="pln">        </span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L5"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L6"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> arr </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="lit">1</span><span class="pun">];</span></code></li><li class="L7"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> t2 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></code></li><li class="L8"><code><span class="pln">        t3 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">,</span></code></li><li class="L9"><code><span class="pln">        t5 </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L0"><code><span class="pln">    </span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> index</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln"> </span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">        arr</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Math</span><span class="pun">.</span><span class="pln">min</span><span class="pun">(</span><span class="pln">arr</span><span class="pun">[</span><span class="pln">t2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">,</span><span class="pln"> arr</span><span class="pun">[</span><span class="pln">t3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pun">,</span><span class="pln"> arr</span><span class="pun">[</span><span class="pln">t5</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">5</span><span class="pun">)</span></code></li><li class="L2"><code><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">arr</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> arr</span><span class="pun">[</span><span class="pln">t2</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">2</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> t2</span><span class="pun">++;</span><span class="pln"> </span><span class="pun">}</span></code></li><li class="L3"><code><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">arr</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> arr</span><span class="pun">[</span><span class="pln">t3</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">3</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> t3</span><span class="pun">++;</span><span class="pln"> </span><span class="pun">}</span></code></li><li class="L4"><code><span class="pln">        </span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">arr</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> arr</span><span class="pun">[</span><span class="pln">t5</span><span class="pun">]</span><span class="pln"> </span><span class="pun">*</span><span class="pln"> </span><span class="lit">5</span><span class="pun">)</span><span class="pln"> </span><span class="pun">{</span><span class="pln"> t5</span><span class="pun">++;</span><span class="pln"> </span><span class="pun">}</span></code></li><li class="L5"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L6"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> arr</span><span class="pun">[</span><span class="pln">index </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span></code></li><li class="L7"><code><span class="pun">}</span></code></li><li class="L8"><code><span class="kwd">var</span><span class="pln"> n </span><span class="pun">=</span><span class="pln"> </span><span class="typ">GetUglyNumber_Solution</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span></code></li><li class="L9"><code><span class="kwd">print</span><span class="pun">(</span><span class="pln">n</span><span class="pun">);</span></code></li></ol></pre><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="h246"><ol class="linenums"><li class="L0"><code><span class="com">#include</span><span class="str">&lt;iostream&gt;</span></code></li><li class="L1"><code><span class="com">#include</span><span class="str">&lt;vector&gt;</span></code></li><li class="L2"><code><span class="com">#include</span><span class="str">&lt;set&gt;</span></code></li><li class="L3"><code><span class="kwd">using</span><span class="pln"> </span><span class="kwd">namespace</span><span class="pln"> std</span><span class="pun">;</span></code></li><li class="L4"><code></code></li><li class="L5"><code><span class="kwd">int</span><span class="pln"> </span><span class="typ">Num</span><span class="pun">(</span><span class="pln">vector</span><span class="str">&lt;int&gt;</span><span class="pun">&amp;</span><span class="pln">data</span><span class="pun">){</span></code></li><li class="L6"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">int</span><span class="pln"> num </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">.</span><span class="pln">size</span><span class="pun">();</span></code></li><li class="L7"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;vector</span><span class="str">&lt;int&gt;</span><span class="pln">result</span><span class="pun">(</span><span class="pln">num</span><span class="pun">,</span><span class="lit">0</span><span class="pun">);</span></code></li><li class="L8"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">set</span><span class="str">&lt;int&gt;</span><span class="pln">temp</span><span class="pun">;</span></code></li><li class="L9"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;vector</span><span class="pun">&lt;</span><span class="kwd">set</span><span class="str">&lt;int&gt;</span><span class="pun">&gt;</span><span class="pln">dp</span><span class="pun">(</span><span class="pln">num</span><span class="pun">,</span><span class="pln">temp</span><span class="pun">);</span><span class="pln"> </span></code></li><li class="L0"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]!=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; dp</span><span class="pun">[</span><span class="lit">0</span><span class="pun">].</span><span class="pln">insert</span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]);</span></code></li><li class="L2"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span></code></li><li class="L3"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">else</span><span class="pun">{</span></code></li><li class="L4"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;   result</span><span class="pun">[</span><span class="lit">0</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L5"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span></code></li><li class="L6"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln"> num</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++){</span></code></li><li class="L7"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">==</span><span class="pln"> </span><span class="lit">0</span><span class="pun">)</span><span class="pln">&nbsp;</span><span class="pun">{</span></code></li><li class="L8"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> result</span><span class="pun">[</span><span class="pln">i </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L9"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">continue</span><span class="pun">;</span></code></li><li class="L0"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span></code></li><li class="L1"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">if</span><span class="pln"> </span><span class="pun">(</span><span class="pln">dp</span><span class="pun">[</span><span class="pln">i </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">].</span><span class="pln">find</span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="pln">i</span><span class="pun">])</span><span class="pln"> </span><span class="pun">!=</span><span class="pln"> dp</span><span class="pun">[</span><span class="pln">i </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">].</span><span class="kwd">end</span><span class="pun">()){</span></code></li><li class="L2"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> result</span><span class="pun">[</span><span class="pln">i </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">]</span><span class="pln"> </span><span class="pun">+</span><span class="pln"> </span><span class="lit">1</span><span class="pun">;</span></code></li><li class="L3"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">continue</span><span class="pun">;</span></code></li><li class="L4"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span></code></li><li class="L5"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;result</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]</span><span class="pln"> </span><span class="pun">=</span><span class="pln"> result</span><span class="pun">[</span><span class="pln">i </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span></code></li><li class="L6"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">set</span><span class="str">&lt;int&gt;</span><span class="pun">::</span><span class="pln">iterator it </span><span class="pun">=</span><span class="pln"> dp</span><span class="pun">[</span><span class="pln">i </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">].</span><span class="kwd">begin</span><span class="pun">();</span></code></li><li class="L7"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">while</span><span class="pln"> </span><span class="pun">(</span><span class="pln">it</span><span class="pun">!=</span><span class="pln">dp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">-</span><span class="lit">1</span><span class="pun">].</span><span class="kwd">end</span><span class="pun">()){</span></code></li><li class="L8"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">int</span><span class="pln"> cur </span><span class="pun">=</span><span class="pln"> data</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]^(*</span><span class="pln">it</span><span class="pun">);</span></code></li><li class="L9"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">insert</span><span class="pun">(</span><span class="pln">cur</span><span class="pun">);</span></code></li><li class="L0"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;it</span><span class="pun">++;</span></code></li><li class="L1"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span></code></li><li class="L2"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;dp</span><span class="pun">[</span><span class="pln">i</span><span class="pun">].</span><span class="pln">insert</span><span class="pun">(</span><span class="pln">data</span><span class="pun">[</span><span class="pln">i</span><span class="pun">]);</span></code></li><li class="L3"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span></code></li><li class="L4"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">return</span><span class="pln"> result</span><span class="pun">[</span><span class="pln">num </span><span class="pun">-</span><span class="pln"> </span><span class="lit">1</span><span class="pun">];</span></code></li><li class="L5"><code><span class="pun">}</span></code></li><li class="L6"><code><span class="kwd">int</span><span class="pln"> main</span><span class="pun">(){</span></code></li><li class="L7"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">int</span><span class="pln"> n</span><span class="pun">;</span></code></li><li class="L8"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;cin </span><span class="pun">&gt;&gt;</span><span class="pln">n</span><span class="pun">;</span></code></li><li class="L9"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;vector</span><span class="str">&lt;int&gt;</span><span class="pln">data</span><span class="pun">(</span><span class="pln">n</span><span class="pun">,</span><span class="lit">0</span><span class="pun">);</span></code></li><li class="L0"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">for</span><span class="pln"> </span><span class="pun">(</span><span class="kwd">int</span><span class="pln"> i </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span><span class="pln"> i </span><span class="pun">&lt;</span><span class="pln">n</span><span class="pun">;</span><span class="pln"> i</span><span class="pun">++)</span><span class="pln">&nbsp;</span><span class="pun">{</span></code></li><li class="L1"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;cin </span><span class="pun">&gt;&gt;</span><span class="pln"> data</span><span class="pun">[</span><span class="pln">i</span><span class="pun">];</span></code></li><li class="L2"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="pun">}</span></code></li><li class="L3"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">int</span><span class="pln"> result </span><span class="pun">=</span><span class="pln"> </span><span class="typ">Num</span><span class="pun">(</span><span class="pln">data</span><span class="pun">);</span></code></li><li class="L4"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;cout </span><span class="pun">&lt;&lt;</span><span class="pln"> result</span><span class="pun">;</span></code></li><li class="L5"><code><span class="pln">&nbsp;&nbsp;&nbsp;&nbsp;</span><span class="kwd">return</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L6"><code><span class="pun">}</span></code></li></ol></pre><div class="md-section-divider"></div><h2 data-anchor-id="j0rd" id="代码题平方等式">代码题：平方等式</h2><p data-anchor-id="esgj">题目描述： </p><blockquote data-anchor-id="55b6" class="white-blockquote">
  <p>公式如：f(13) = 1^2+3^2 = 10;f(23) = 2^2+3^2 = 13; <br>
   现要求找出满足范围a--b之间所有，K*f(n) = n的数，输出其数和一共有多少个，其中k为手动输入。</p>
</blockquote><div class="md-section-divider"></div><pre class="prettyprint linenums prettyprinted" data-anchor-id="2hsi"><ol class="linenums"><li class="L0"><code><span class="pln"> </span><span class="kwd">function</span><span class="pln"> lib</span><span class="pun">(</span><span class="pln">k</span><span class="pun">,</span><span class="pln">a</span><span class="pun">,</span><span class="pln">b</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> sum </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L2"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> key </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[];</span></code></li><li class="L3"><code><span class="pln">    </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> i</span><span class="pun">=</span><span class="pln">a</span><span class="pun">;</span><span class="pln">i</span><span class="pun">&lt;</span><span class="pln">b</span><span class="pun">;</span><span class="pln">i</span><span class="pun">++){</span></code></li><li class="L4"><code><span class="pln">        </span><span class="kwd">var</span><span class="pln"> num </span><span class="pun">=</span><span class="pln"> </span><span class="lit">0</span><span class="pun">;</span></code></li><li class="L5"><code><span class="pln">        </span><span class="kwd">var</span><span class="pln"> s </span><span class="pun">=</span><span class="pln"> </span><span class="typ">String</span><span class="pun">(</span><span class="pln">i</span><span class="pun">).</span><span class="pln">split</span><span class="pun">(</span><span class="str">''</span><span class="pun">);</span><span class="pln"> </span><span class="com">//将每一个数转化为数组形式</span></code></li><li class="L6"><code><span class="pln">        </span><span class="kwd">var</span><span class="pln"> len </span><span class="pun">=</span><span class="pln"> s</span><span class="pun">.</span><span class="pln">length</span><span class="pun">;</span></code></li><li class="L7"><code><span class="pln">        </span><span class="kwd">for</span><span class="pun">(</span><span class="kwd">var</span><span class="pln"> j</span><span class="pun">=</span><span class="lit">0</span><span class="pun">;</span><span class="pln">j</span><span class="pun">&lt;</span><span class="pln">len</span><span class="pun">;</span><span class="pln">j</span><span class="pun">++){</span></code></li><li class="L8"><code><span class="pln">            num </span><span class="pun">=</span><span class="pln"> num</span><span class="pun">+</span><span class="typ">Math</span><span class="pun">.</span><span class="pln">pow</span><span class="pun">(</span><span class="pln">s</span><span class="pun">[</span><span class="pln">j</span><span class="pun">],</span><span class="lit">2</span><span class="pun">);</span><span class="pln"> </span><span class="com">//求每一个数的平方和</span></code></li><li class="L9"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L0"><code><span class="pln">        </span><span class="kwd">if</span><span class="pun">(</span><span class="pln">k</span><span class="pun">*</span><span class="pln">num </span><span class="pun">==</span><span class="pln"> i</span><span class="pun">){</span></code></li><li class="L1"><code><span class="pln">            sum</span><span class="pun">++;</span></code></li><li class="L2"><code><span class="pln">            key</span><span class="pun">.</span><span class="pln">push</span><span class="pun">(</span><span class="pln">i</span><span class="pun">);</span><span class="pln"> </span><span class="com">//将符合条件的数放进数组中</span></code></li><li class="L3"><code><span class="pln">        </span><span class="pun">}</span></code></li><li class="L4"><code><span class="pln">    </span><span class="pun">}</span></code></li><li class="L5"><code><span class="pln">    </span><span class="kwd">var</span><span class="pln"> ty </span><span class="pun">=</span><span class="pln"> </span><span class="pun">[</span><span class="pln">sum</span><span class="pun">,</span><span class="pln">key</span><span class="pun">];</span></code></li><li class="L6"><code><span class="pln">    </span><span class="kwd">return</span><span class="pln"> ty</span><span class="pun">;</span></code></li><li class="L7"><code><span class="pun">}</span></code></li><li class="L8"><code><span class="kwd">var</span><span class="pln"> k</span><span class="pun">=</span><span class="lit">51</span><span class="pun">;</span></code></li><li class="L9"><code><span class="kwd">var</span><span class="pln"> a</span><span class="pun">=</span><span class="pln"> </span><span class="lit">5000</span><span class="pun">,</span><span class="pln">b</span><span class="pun">=</span><span class="lit">10000</span><span class="pun">;</span></code></li><li class="L0"><code><span class="kwd">var</span><span class="pln"> res </span><span class="pun">=</span><span class="pln"> lib</span><span class="pun">(</span><span class="pln">k</span><span class="pun">,</span><span class="pln">a</span><span class="pun">,</span><span class="pln">b</span><span class="pun">);</span></code></li><li class="L1"><code><span class="pln">console</span><span class="pun">.</span><span class="pln">log</span><span class="pun">(</span><span class="pln">res</span><span class="pun">);</span></code></li></ol></pre></div>
</body>
</html>